# 既然有了滑动窗口，为什么还要有等同于滑动窗口的拥塞窗口？

网络传输里面，除了发送方，接收方，还有个传输路径。

早期的TCP实现是没有拥塞窗口的，发送方会一次将接收方所建议的数据长度，也就是滑动窗口都发过去。如果传输路径没问题，例如发送方，接收方都在一个局域网，那自然没问题。

如果传输路径有问题，比如带宽有限，承受不了这么多数据，那就会走到TCP的确认重传机制。实际中，确认重传会进一步降低网络的负载能力，本来一趟能走完的数据，现在要走好几次。

所以TCP才提出了拥塞控制[1]。

拥塞窗口（congestion window）只是拥塞控制的一部分。它一个应用就是slow start[2]，简单来说，就是TCP的发送方虽然收到了接收方的建议数据长度，但是TCP发送方也不知道传输路径负载能力如何。因此TCP的发送方开始只发一小段数据，当收到了ACK之后，再增加每次发送的数据，直到达到接收方的处理能力上限或者传输路径的负载能力上限。有点类似摸着石头过河。发送方每次发送的数据长度，就是拥塞窗口的大小。

下图是slow start的的过程，刚开始TCP的数据传输较慢，之后渐渐增加，最后趋于线性。

![](https://pic1.zhimg.com/80/v2-64e737c73c0bcafd434ae70a4dbbb7c3_720w.jpg?source=1940ef5c)

所以拥塞窗口代表着发送方的成熟，不再是人云亦云（接收方说发多少就发多少）。