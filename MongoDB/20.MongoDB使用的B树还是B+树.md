# 20.MongoDB使用的B树还是B+树

### 目录

- [前言](#前言)
- [参考链接](#参考链接)



</br></br>

### 前言

从MongoDB 3.2版本开始，WiredTiger作为MongoDB默认的存储引擎



</br></br>

MongoDB 是文档型的数据库，它使用BSON格式保存数据，比关系型数据库存储更方便。比如之前关系型数据库中处理用户、订单等数据要建立对应的表，还要建立它们之间的关联关系。但是BSON就不一样了，我们可以把一条数据和这条数据对应的数据都存入一个BSON对象中,这种形式更简单，通俗易懂。

**从 WiredTiger 官网文档，我们可以知道：WiredTiger 使用的是 B+ 树作为其存储结构。**

文档地址：[WiredTiger Storage Engine — MongoDB Manual](https://docs.mongodb.com/manual/core/wiredtiger/)

![img](https://raw.githubusercontent.com/affectalways/Flee-as-a-bird-to-your-mountain/main/img/16186659053079.jpg)

文档地址：[WiredTiger: Tuning page size and compression](https://source.wiredtiger.com/3.2.1/tune_page_size_and_comp.html)

B-树是一种自平衡的搜索树，形式很简单：

![](https://raw.githubusercontent.com/affectalways/Flee-as-a-bird-to-your-mountain/main/img/11索引01.png)

B-树的特点:

- 多路 非二叉树
- 每个节点 既保存数据 又保存索引
- 搜索时 相当于二分查找

B+树是B-树的变种：

![](https://raw.githubusercontent.com/affectalways/Flee-as-a-bird-to-your-mountain/main/img/11索引02.png)

B+ 树的特点：

- 多路非二叉
- 只有叶子节点保存数据
- 搜索时 也相当于二分查找
- 增加了 相邻节点指针



</br></br>

### 参考链接

- https://shuyi.tech/archives/tree-data-structure-04-mongo-db