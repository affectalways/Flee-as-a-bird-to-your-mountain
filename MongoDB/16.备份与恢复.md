# 16.备份与恢复

### 备份

- 语法

```
mongodump -h dbhost -d dbname -o dbdirectory
```

- -h：服务器地址，也可以指定端口号
- -d：需要备份的数据库名称
- -o：备份的数据存放位置，此目录中存放着备份出来的数据
- 例

```
 mkdir testbark

 mongodump -u 用户名 -p 密码 --authenticationDatabase admin  -h 127.0.0.1:27017 -d af -o /home/testbark/
```

  



### 恢复

- 语法

```
mongorestore -h dbhost -d dbname --dir dbdirectory
```



- -h：服务器地址
- -d：需要恢复的数据库实例
- --dir：备份数据所在位置
- 例

```
mongorestore -u 用户名 -p 密码 --authenticationDatabase admin -h 127.0.0.1:27017 -d peopleCopy --dir /home/testbark/af（加上af，是因为af是一个数据库实例）
```

  