# 11.数据库

​		本章针对Redis服务器的数据库实现进行介绍。

[toc]

## Redis服务器中的数据库

​		Redis服务器将所有数据库都保存在**redis.h/redisServer结构的db数组**中

​		db数组是**redis.h/redisDb**结构，每个redisDb结构代表一个数据库

```
struct redisServer {
	// 一个数组, 保存着服务器中的所有数据库
	redisDb *db
}
```

​		在初始化Redis服务器时，redis程序会根据redisServer结构的**dbnum**属性决定创建多少个数据库

```
struct redisServer {
	/// 服务器的数据库数量
	int dbnum;
}
```

​		dbnum属性的值由Redis服务器配置的database参数决定，该参数默认值为16，所以Redis服务器默认会创建16个数据库，如下图所示：

![]()





## 切换数据库

​		Redis客户端默认使用数据库号为0的数据库，客户端可以通过执行**select**命令切换数据库。

​		以下代码示例演示了客户端在0号数据库设置并读取键msg，之后切换到2号数据库并执行类似操作的过程：

```

```

