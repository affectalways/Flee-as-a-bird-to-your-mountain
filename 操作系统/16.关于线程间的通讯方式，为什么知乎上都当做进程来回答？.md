### 关于线程间的通讯方式，为什么知乎上都当做进程来回答？

进程间的通讯方式，虽然也能用于线程，但是线程间一般不是用静态区和堆区的数据来通讯吗，这两种应该才是用的最多的才对啊。类似回答管道，共享内存等的特别多，都有点怀疑自己了，不知道是不是我的理解有误差



### 线程间的通信方式

#### 锁机制：包括互斥锁、条件变量、读写锁

互斥锁提供了以排他方式防止数据结构被并发修改的方法。 
读写锁允许多个线程同时读共享数据，而对写操作是互斥的。 
条件变量可以以原子的方式阻塞进程，直到某个特定条件为真为止。对条件的测试是在互斥锁的保护下进行的。条件变量始终与互斥锁一起使用。

wait/notify 等待

Volatile 内存共享

CountDownLatch 并发工具

CyclicBarrier 并发工具



#### 信号量机制(Semaphore)

包括无名线程信号量和命名线程信号量。



#### 信号机制(Signal)

类似进程间的信号处理。

**线程间的通信目的主要是用于线程同步，所以线程没有像进程通信中的用于数据交换的通信机制。**



作者：彭贞
链接：https://www.zhihu.com/question/475794689/answer/2026745055
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。



其实线程间不太提通信概念，因为线程和主程序共享了除了栈区以外的全部内存空间，程序中随便搞个全局变量都能让所有线程访问到，这还玩啥自行车啊，**正是因为线程共享了主程序的绝大部分空间，线程要写这些共享数据时反而要加以保护，所以必须要用各种锁来同步线程**。

为什么线程要大谈进程间通信？因为进程和主程序除了部分代码区内存，其他内存都是完全和主程序独立的，特别是数据区内存，进程都是完全独立的，**进程这么做能最大限度保证数据安全，不需要什么锁来同步进程，但是问题就是内存独立了，数据安全了，数据共享又成了问题，所以有不得不用各种手段，什么共享内存内存啊，文件啊等等来共享数据，也就是所谓的进程间通信**。

------

**总结来说，线程本来就共享了主程序的路大部分内存，所以一般不需要考虑共享数据的问题，数据本来就是所有共享的，所以不会去做什么线程间通信，你反而更多考虑共享数据的同步问题。**

**而进程正好相反，由于不和主程序共享内存（只共享少部分）所以你必须要考虑共享数据的问题，自然会引起各种进程间通信手段，你反而不会去考虑进程间同步的问题。**

所以进程间你主要考虑通信，而线程间你主要考虑同步。

------

刚刚没有仔细看题主描述，在一些多线程程序中，确实用到了队列等进程间通信也会用的手段，但是这个队列是为了同步线程，而不是通信，其实完全没必要把一个概念和另一个概念捆绑，队列就是队列，共享内存就是共享内存，队列可以用于通信，也可以用于同步。